<!DOCTYPE html>
<html>
    <head>
        <title>Perspective 2.0</title>
        <link rel="stylesheet" href="./index.css">
        <link rel="preconnect" href="https://fonts.gstatic.com">
        <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500&display=swap" rel="stylesheet" >
    </head>
    <body>
        <div role="container" class="container">
            <div class="theme-switch-wrapper">
                <label class="theme-switch" for="checkbox">
                    <input type="checkbox" id="checkbox"/>
                    <div class="slider round"></div>
                </label>
                <p class="dark-enable">Dark Mode</p>
            </div>
            <div class="header" role="header">
                <img  class="logo"  tabindex= "0" alt="Perspectives logo" src="https://res.cloudinary.com/dfulxq7so/image/upload/v1615933174/PerspectiveLogo_c61yxb.svg" />
            </div>
            <div class="subtitle" tabindex= "0"  role="text" aria-label="A look at bias in the workplace">
                A look at bias in the workplace
            </div>
            <a href="./accessibility/menu.html" tabindex= "0"  class="start-button"  role="link">
                <img class="startButton-img" alt="Press to start the experience" src="https://res.cloudinary.com/dfulxq7so/image/upload/v1614019871/Group_65_yjvasr.png" />
            </a>
            <img id="polygon" aria-hidden="true"  src="https://res.cloudinary.com/dfulxq7so/image/upload/v1614210343/Polygon_8.1_p0fjwm.svg" /> 
            <img id="rect"  aria-hidden="true"  src="https://res.cloudinary.com/dfulxq7so/image/upload/v1614210382/Rectangle_99.1_sjioka.svg" />
            <img id="ellipse" aria-hidden="true"  src="https://res.cloudinary.com/dfulxq7so/image/upload/v1614210277/Ellipse_26_ymtmeq.svg" />
            <img id="group1" aria-hidden="true"  src="https://res.cloudinary.com/dfulxq7so/image/upload/v1614210431/Group_53.1_wqvelu.svg" />
            <img id="group3" aria-hidden="true"  src="https://res.cloudinary.com/dfulxq7so/image/upload/v1614210143/Group_105_du9lra.svg" />
        </div>
        <script>
            sessionStorage.setItem('data-theme', 'light')
            const container = document.getElementsByClassName('container')[0]
            const toggleSwitch = document.querySelector('.theme-switch input[type="checkbox"]')
            const startButton = document.getElementsByClassName("start-button")[0]
            const startButtonImg = document.getElementsByClassName("startButton-img")[0]
            const subtitle = document.getElementsByClassName('subtitle')[0]
            const logo = document.getElementsByClassName('logo')[0]
            const darkEnable = document.getElementsByClassName('dark-enable')[0]
            function handleMouseOver(){
                if (sessionStorage.getItem('data-theme') && sessionStorage.getItem('data-theme') === "dark"){
                    startButtonImg.src = "https://res.cloudinary.com/dfulxq7so/image/upload/v1617745715/Component_5_3-dark_xwecoe.svg"
                } else {
                    startButtonImg.src = "https://res.cloudinary.com/dfulxq7so/image/upload/v1615932581/startButton-hovered_djktcj.svg"
                }
            }
            function handleMouseOut(){
                if (sessionStorage.getItem('data-theme') && sessionStorage.getItem('data-theme') === "dark"){
                    startButtonImg.src = "https://res.cloudinary.com/dfulxq7so/image/upload/v1617745715/Component_5_3-dark_xwecoe.svg"
                } else {
                    startButtonImg.src = "https://res.cloudinary.com/dfulxq7so/image/upload/v1615932589/startButton-default_aiknwm.svg"
                }
            }

            startButton.addEventListener('mouseover', handleMouseOver)
            startButton.addEventListener('mouseout', handleMouseOut)

            function playRandom(){
                let audio = new Audio('./asset/VOfiles/Pluckandplay - Kwon.mp3');
                audio.autoplay = true
            }

            function switchTheme(e){
                if (e.target.checked){
                    sessionStorage.setItem('data-theme', 'dark')
                    container.style.backgroundColor = '#000000'
                    ellipse.src="https://res.cloudinary.com/dfulxq7so/image/upload/v1618874636/ellipse-green-darkkk_srjznt.svg"
                    polygon.src="https://res.cloudinary.com/dfulxq7so/image/upload/v1618876740/Polygon_8-darkkkkkkkkk_fwzjfd.svg"
                    rect.src= "https://res.cloudinary.com/dfulxq7so/image/upload/v1617745715/Rectangle_99-dark_pjux5g.svg"
                    group1.src = "https://res.cloudinary.com/dfulxq7so/image/upload/v1618876667/Group_53-darkkkk_p3tw4l.svg"
                    group3.src = "https://res.cloudinary.com/dfulxq7so/image/upload/v1618876600/Group_105-darkkkk_upljhd.svg"
                    startButtonImg.src="https://res.cloudinary.com/dfulxq7so/image/upload/v1618876527/Component_5_3_ucuivy.svg"
                    subtitle.style.color = '#FFFFFF'
                    logo.src="https://res.cloudinary.com/dfulxq7so/image/upload/v1618931513/Perspectives-logo-darkkk_iup0gd.svg"
                    darkEnable.style.color = '#FFFFFF'
                    // darkEnable.innerHTML = 'Enable Light Mode'
                } else {
                    sessionStorage.setItem('data-theme', 'light')
                    container.style.backgroundColor = '#D9ECEC'
                    ellipse.src= "https://res.cloudinary.com/dfulxq7so/image/upload/v1614210277/Ellipse_26_ymtmeq.svg"
                    polygon.src= "https://res.cloudinary.com/dfulxq7so/image/upload/v1614210343/Polygon_8.1_p0fjwm.svg"
                    rect.src= "https://res.cloudinary.com/dfulxq7so/image/upload/v1614210382/Rectangle_99.1_sjioka.svg"
                    group1.src = "https://res.cloudinary.com/dfulxq7so/image/upload/v1614210431/Group_53.1_wqvelu.svg"
                    group3.src = "https://res.cloudinary.com/dfulxq7so/image/upload/v1614210143/Group_105_du9lra.svg"
                    startButtonImg.src="https://res.cloudinary.com/dfulxq7so/image/upload/v1614019871/Group_65_yjvasr.png"
                    subtitle.style.color = '#000000'
                    // darkEnable.innerHTML = 'Enable Dark Mode'
                    darkEnable.style.color = '#000000'
                    logo.src= "https://res.cloudinary.com/dfulxq7so/image/upload/v1615933174/PerspectiveLogo_c61yxb.svg"
                }
            }

            toggleSwitch.addEventListener('change', switchTheme, false)
        </script>
    </body>
</html>